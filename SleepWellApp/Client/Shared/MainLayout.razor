@inherits LayoutComponentBase

<div class="page">
    <div class="sidebar">
        <NavMenu />
    </div>
    <div  style="background-color: lightblue;">

        </div>
    <main>
            @if(!_isDarkMode)
            {
              <div class="top-row px-4 auth" style="color: white; background: #87CEEB;">

                <MudButton Class="dark-mode-button" OnClick="ToggleDarkMode">Toggle Dark Mode</MudButton>
            <LoginDisplay />
            <a style="color: white" href="https://github.com/AnujPatel99/SleepWellApp/" target="_blank">GitHub</a>
        </div>
         
            }
            else
            {
 <div class="top-row px-4 auth" style="color: white; background: #2b2b2b;">

                <MudButton Class="dark-mode-button" OnClick="ToggleDarkMode">Toggle Light Mode</MudButton>
            <LoginDisplay />
            <a style="color: white" href="https://github.com/AnujPatel99/SleepWellApp/" target="_blank">GitHub</a>
        </div>
            }
           

        <article class="content px-4">
            <MudDialogProvider />
            <MudSnackbarProvider />

            <MudThemeProvider Theme="_themeManager.Theme" />
            <MudLayout>
                <MudMainContent>
                    @Body
                </MudMainContent>
            </MudLayout>
        </article>
    </main>
</div>

@code {
    private ThemeManagerTheme _themeManager = new ThemeManagerTheme();
    private bool _isDarkMode = false;

    private void ToggleDarkMode()
    {
        _isDarkMode = !_isDarkMode;

        _themeManager.Theme = _isDarkMode
            ? new MudTheme()
            {
                Palette = new Palette()
                {
                    Black = "#1f1f1f", // Adjust black color
                    Background = "#2b2b2b", // Adjust background color
                    Surface = "#363636", // Adjust surface color
                    AppbarBackground = "#363636", // Adjust appbar background color
                    DrawerBackground = "#363636", // Adjust drawer background color
                    DrawerText = "rgba(255,255,255, 0.87)", // Adjust drawer text color
                    DrawerIcon = "rgba(255,255,255, 0.87)", // Adjust drawer icon color
                    AppbarText = "rgba(255,255,255, 0.87)", // Adjust appbar text color
                    TextPrimary = "rgba(255,255,255, 0.87)",
                    TextSecondary = "rgba(255,255,255, 0.70)"
                }
            }
            : new MudTheme(); // Reset to default theme

        StateHasChanged();
    }

    protected override void OnInitialized()
    {
        _themeManager.Theme = new MudTheme(); // Set default theme on initialization
        StateHasChanged();
    }
}
