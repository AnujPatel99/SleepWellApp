@using System.Net.Http.Json
@using Microsoft.AspNetCore.Authorization
@using Microsoft.AspNetCore.Components.WebAssembly.Authentication
@using SleepWellApp.Shared
@using MudBlazor
@inject HttpClient httpClient

@page "/admin"

<PageTitle>Admin Page</PageTitle>

<AuthorizeView>
    <Authorized>
        <h1 style="text-align:center">User Index</h1>
        <br /><br /><br /><br /><br />

        <MudButton Href="create-user" Variant="Variant.Filled" EndIcon="@Icons.Material.Filled.Add" Color="Color.Primary">Add User</MudButton>
        <MudButton Href="create-role" Variant="Variant.Filled" EndIcon="@Icons.Material.Filled.Person" Color="Color.Primary">Create Role</MudButton>
        <MudButton Href="manage-role" Variant="Variant.Filled" EndIcon="@Icons.Material.Filled.ManageAccounts" Color="Color.Primary">Manage Role</MudButton>
        <br /><br />
        <MudTable Items="@ListOfUsers" Hover="true" Breakpoint="Breakpoint.Sm" TotalItems=@ListOfUsers.Count()>
            <HeaderContent>
                <MudTh>UserName</MudTh>
                <MudTh>First Name</MudTh>
                <MudTh>Last Name</MudTh>
                <MudTh>ID</MudTh>
                <MudTh>Role</MudTh>
            </HeaderContent>
            <RowTemplate Context="row">
                <MudTd DataLabel="UserName">@row.UserName</MudTd>
                <MudTd DataLabel="First Name">@row.FirstName</MudTd>
                <MudTd DataLabel="Last Name">@row.LastName</MudTd>
                <MudTd DataLabel="ID">@row.Id</MudTd>
                <MudTd DataLabel="Role">Hard coded role ex</MudTd> @* Need to Add Role *@
            </RowTemplate>
        </MudTable>
    </Authorized>
    <NotAuthorized>
        <h3 style="text-align:center">
            Whoops...You aren't logged in!
            <br>Either Log in or Register an Account to view this page!
        </h3>
    </NotAuthorized>
</AuthorizeView>



@*<MudButton Href="create-user" Variant="Variant.Filled" EndIcon="@Icons.Material.Filled.Add" Color="Color.Primary">Add User</MudButton>
    <MudButton Href="create-role" Variant="Variant.Filled" EndIcon="@Icons.Material.Filled.Person" Color="Color.Primary">Create Role</MudButton>
    <MudButton Href="manage-role" Variant="Variant.Filled" EndIcon="@Icons.Material.Filled.ManageAccounts" Color="Color.Primary">Manage Role</MudButton>

    <MudTable Items="@users">
    <ToolBarContent>
    <MudText Typo="Typo.h6">Periodic Elements</MudText>
    <MudSpacer />
    <MudTextField @bind-Value="users" Placeholder="Search" Adornment="Adornment.Start" AdornmentIcon="@Icons.Material.Filled.Search" IconSize="Size.Medium" Class="mt-0"></MudTextField>
    </ToolBarContent>
    <HeaderContent>
    <MudTh>User Name</MudTh>
    <MudTh>First Name</MudTh>
    <MudTh>Last Name</MudTh>
    <MudTh>ID</MudTh>
    </HeaderContent>
    <RowTemplate>
    <MudTd DataLabel="User Name">@Elements</MudTd>
    <MudTd DataLabel="First Name">hhh</MudTd>
    <MudTd DataLabel="Last Name">jh</MudTd>
    <MudTd DataLabel="ID">nh</MudTd>

    </RowTemplate>
    <PagerContent>
    <MudTablePager />
    </PagerContent>
    </MudTable>*@

